# 文档模板说明

> **版本**: 1.0.0
> **创建日期**: 2026-02-04
> **适用范围**: Claude CLI Provider 项目

本文档提供项目文档管理系统中各类文档的模板和示例。

---

## 📋 目录

1. [通用模板](#通用模板)
2. [设计文档模板](#设计文档模板)
3. [使用指南模板](#使用指南模板)
4. [架构文档模板](#架构文档模板)
5. [开发文档模板](#开发文档模板)
6. [项目报告模板](#项目报告模板)

---

## 📝 通用模板

### 文档头部元数据

所有文档都应包含以下元数据：

```markdown
> **版本**: 1.0.0
> **创建日期**: 2026-02-04
> **状态**: 设计阶段，待实施
> **适用对象**: 开发者
> **维护者**: [@username]
```

### 状态说明

| 状态 | 说明 | 使用场景 |
|------|------|----------|
| **设计阶段，待实施** | 功能尚未实现 | design/ 中的设计文档 |
| **开发中** | 正在实施 | 开发中的功能 |
| **已完成** | 功能已实现并测试 | 已完成的文档 |
| **已归档** | 历史文档 | archive/ 中的文档 |

---

## 🎨 设计文档模板

### 功能设计文档 (`<功能名>-design.md`)

```markdown
# [功能名称] 设计文档

> **版本**: 1.0.0
> **创建日期**: 2026-02-04
> **状态**: 设计阶段，待实施
> **优先级**: 中/高/低
> **预计实施**: 2026-02-10
> **适用对象**: 开发者、架构师

---

## 功能概述

简要描述功能的用途和目标。

## 背景

为什么需要这个功能？解决了什么问题？

## 需求分析

### 功能需求
- 需求 1
- 需求 2

### 非功能需求
- 性能要求
- 安全要求
- 可用性要求

## 技术方案

### 实现思路

描述实现方案的核心思路。

### 技术选型

| 技术/库 | 用途 | 版本 |
|---------|------|------|
| Express | HTTP 服务框架 | ^4.18.2 |

### 架构设计

```
┌─────────┐      ┌─────────┐      ┌─────────┐
│  Client │ ───> │  Server │ ───> │  Claude │
└─────────┘      └─────────┘      └─────────┘
```

### 数据流设计

描述数据如何在系统中流转。

### API 设计

#### 接口 1

**请求**：
```json
{
  "param1": "value1"
}
```

**响应**：
```json
{
  "result": "success"
}
```

## 实施计划

### 阶段划分

| 阶段 | 任务 | 预计时间 | 状态 |
|------|------|----------|------|
| 阶段 1 | 基础实现 | 2天 | ❌ 待实施 |
| 阶段 2 | 测试验证 | 1天 | ❌ 待实施 |

### 风险评估

| 风险 | 影响 | 缓解措施 |
|------|------|----------|
| 风险1 | 高 | 措施1 |

## 测试策略

### 单元测试
- 测试用例 1
- 测试用例 2

### 集成测试
- 测试场景 1

## 参考资料

- [相关文档链接](../path/to/doc.md)
- [外部参考](https://example.com)

---

**变更历史**：
- 2026-02-04: 初始版本
```

---

## 📚 使用指南模板

### 部署指南 (`deployment-guide.md`)

```markdown
# 部署指南 - [项目名称]

> **版本**: 1.0.0
> **创建日期**: 2026-02-04
> **状态**: 已完成
> **适用对象**: 运维人员、开发者

---

## 目录

1. [环境要求](#环境要求)
2. [配置说明](#配置说明)
3. [部署方式](#部署方式)
4. [验证测试](#验证测试)
5. [故障排查](#故障排查)

---

## 环境要求

### 基础依赖

- **Node.js**: >= 18.0.0
- **npm**: >= 8.0.0

### 额外依赖

- **PM2**: `npm install -g pm2`
- **Docker**: >= 20.10

---

## 配置说明

### 环境变量

| 变量 | 说明 | 默认值 | 必需 |
|------|------|--------|------|
| `PORT` | 服务端口 | `3912` | 否 |
| `API_KEY` | API 密钥 | 空 | 是（生产） |

### 配置文件

```bash
cp .env.example .env
vim .env
```

---

## 部署方式

### PM2 部署

```bash
# 安装 PM2
npm install -g pm2

# 启动服务
npm run pm2:start

# 查看状态
npm run pm2:monit
```

### Docker 部署

```bash
# 构建镜像
npm run docker:build

# 启动容器
API_KEY="your-key" npm run docker:up
```

---

## 验证测试

### 健康检查

```bash
curl http://localhost:3912/health
```

### API 测试

```bash
curl -X POST http://localhost:3912/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-api-key" \
  -d '{"model":"sonnet","messages":[{"role":"user","content":"test"}]}'
```

---

## 故障排查

### 问题 1

**现象**：描述问题

**原因**：分析原因

**解决**：提供解决方案

```bash
# 解决命令
```

---

**最后更新**: 2026-02-04
```

---

## 🏗️ 架构文档模板

### 系统架构文档 (`system-architecture.md`)

```markdown
# 系统架构设计

> **版本**: 1.0.0
> **创建日期**: 2026-02-04
> **状态**: 设计阶段，待实施
> **适用对象**: 架构师、开发者

---

## 架构概览

### 系统目标

描述系统的核心目标和设计原则。

### 技术栈

| 层级 | 技术 | 说明 |
|------|------|------|
| 后端 | Node.js + Express | HTTP 服务 |
| CLI | Claude CLI | AI 能力 |

---

## 架构设计

### 整体架构

```
┌─────────────────────────────────────────┐
│              Client Layer               │
└─────────────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────┐
│            API Gateway Layer            │
└─────────────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────┐
│           Application Layer             │
└─────────────────────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────┐
│             CLI Wrapper Layer           │
└─────────────────────────────────────────┘
```

### 模块设计

#### 模块 1: API Server

**职责**：
- 职责 1
- 职责 2

**接口**：
- 接口 1
- 接口 2

---

## 数据流设计

### 请求流程

```
Client → API Server → CLI Wrapper → Claude CLI
        ←            ←             ←
```

### 数据格式

描述各层之间的数据交换格式。

---

## 安全设计

### 认证机制

描述 API 认证方式。

### 数据加密

描述敏感数据的加密方式。

---

## 性能设计

### 性能目标

| 指标 | 目标值 |
|------|--------|
| 响应时间 | < 100ms (首字节) |
| 吞吐量 | > 100 req/s |

### 优化策略

- 策略 1
- 策略 2

---

## 扩展性设计

### 水平扩展

描述如何支持水平扩展。

### 垂直扩展

描述如何支持垂直扩展。

---

**最后更新**: 2026-02-04
```

---

## 💻 开发文档模板

### 开发计划 (`<功能名>-PLAN.md`)

```markdown
# [功能名称] 开发计划

> **版本**: 1.0.0
> **创建日期**: 2026-02-04
> **负责人**: [@username]
> **预计完成**: 2026-02-10

---

## 目标

描述开发目标。

---

## 任务分解

### Sprint 1

| 任务 | 负责人 | 预计时间 | 状态 |
|------|--------|----------|------|
| 任务 1 | @user1 | 1天 | ❌ 待实施 |
| 任务 2 | @user2 | 2天 | ❌ 待实施 |

### Sprint 2

| 任务 | 负责人 | 预计时间 | 状态 |
|------|--------|----------|------|
| 任务 3 | @user1 | 1天 | ❌ 待实施 |

---

## 里程碑

| 里程碑 | 日期 | 交付物 | 状态 |
|--------|------|--------|------|
| M1 | 2026-02-06 | Alpha 版本 | ❌ 待实施 |
| M2 | 2026-02-08 | Beta 版本 | ❌ 待实施 |
| M3 | 2026-02-10 | 正式版本 | ❌ 待实施 |

---

## 依赖关系

```
任务1 ──> 任务2 ──> 任务3
  │                     │
  └────────> 任务4 ──────┘
```

---

## 风险管理

| 风险 | 概率 | 影响 | 应对措施 |
|------|------|------|----------|
| 风险1 | 中 | 高 | 措施1 |

---

**最后更新**: 2026-02-04
```

### 开发总结 (`<功能名>-SUMMARY.md`)

```markdown
# [功能名称] 开发总结

> **版本**: 1.0.0
> **创建日期**: 2026-02-04
> **完成日期**: 2026-02-10
> **负责人**: [@username]

---

## 概述

总结本次开发的成果。

---

## 完成情况

### 已完成任务

✅ 任务 1 - 描述
✅ 任务 2 - 描述

### 未完成任务

⏸️ 任务 3 - 原因

---

## 技术亮点

1. **亮点 1**
   - 描述

2. **亮点 2**
   - 描述

---

## 遇到的问题

### 问题 1

**现象**：描述问题

**原因**：分析原因

**解决**：如何解决

---

## 经验教训

1. **教训 1**
   - 改进措施

2. **教训 2**
   - 改进措施

---

## 后续计划

1. 计划 1
2. 计划 2

---

**最后更新**: 2026-02-10
```

---

## 📊 项目报告模板

### 阶段完成报告 (`<阶段>-COMPLETION-REPORT.md`)

```markdown
# [阶段名称] 完成报告

> **报告日期**: 2026-02-04
> **报告人**: [@username]
> **项目阶段**: 阶段 1
> **时间范围**: 2026-02-01 ~ 2026-02-04

---

## 执行摘要

简要总结本阶段的成果。

---

## 目标达成情况

### 主要目标

| 目标 | 计划 | 实际 | 状态 |
|------|------|------|------|
| 目标 1 | 描述 | 描述 | ✅ 已达成 |
| 目标 2 | 描述 | 描述 | ⏸️ 部分达成 |

---

## 交付成果

### 功能交付

✅ **功能 1**: 描述
   - 实现文件: `path/to/file.js`
   - 测试状态: 已通过

✅ **功能 2**: 描述
   - 实现文件: `path/to/file.js`
   - 测试状态: 已通过

### 文档交付

- [设计文档](../design/feature.md)
- [使用指南](../guides/feature-guide.md)

---

## 数据统计

### 开发数据

| 指标 | 数值 |
|------|------|
| 代码行数 | 1,234 |
| 新增文件 | 10 |
| 测试覆盖率 | 85% |

### 时间统计

| 活动 | 计划时间 | 实际时间 |
|------|----------|----------|
| 设计 | 1天 | 1天 |
| 开发 | 2天 | 2.5天 |
| 测试 | 1天 | 0.5天 |

---

## 风险与问题

### 已解决

✅ **问题 1**
   - 发现时间: 2026-02-02
   - 解决时间: 2026-02-03
   - 解决方案: 描述

### 未解决

⏸️ **问题 2**
   - 发现时间: 2026-02-04
   - 影响: 描述
   - 计划措施: 描述

---

## 下阶段计划

### 计划目标

1. 目标 1
2. 目标 2

### 计划时间

2026-02-05 ~ 2026-02-10（5天）

---

## 总结

总结本阶段的整体情况。

---

**附件**：
- [详细任务列表](./tasks.md)
- [测试报告](./test-report.md)

---

**最后更新**: 2026-02-04
```

---

## 📌 使用建议

### 1. 选择合适的模板

根据文档类型选择对应的模板：
- 功能设计 → 设计文档模板
- 用户指南 → 使用指南模板
- 架构设计 → 架构文档模板
- 开发计划 → 开发文档模板
- 项目报告 → 项目报告模板

### 2. 必填与可选

**必填内容**：
- 文档头部元数据
- 功能概述/概述
- 主要章节

**可选内容**：
- 根据实际情况添加或删除章节
- 根据需要调整详细程度

### 3. 保持一致性

- 使用统一的术语
- 保持格式一致
- 遵循命名规范

### 4. 及时更新

- 随着项目进展更新文档
- 记录变更历史
- 保持文档与代码同步

---

## 🔗 相关文档

- [分类定义](CATEGORIES.md)
- [生命周期管理](LIFECYCLE.md)
- [主 README](../README.md)

---

**最后更新**: 2026-02-04
**维护者**: 项目团队
